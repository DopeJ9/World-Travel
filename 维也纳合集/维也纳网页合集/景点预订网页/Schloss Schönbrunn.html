<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Schloss Sch√∂nbrunn | Tickets & Booking</title>
<meta name="description" content="Schloss Sch√∂nbrunn ticket booking: opening hours, calendar, time slots, prices, and guided experiences.">
<style>
/* Reset */
* { box-sizing: border-box; }
html, body { margin: 0; padding: 0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "PingFang SC", "Hiragino Sans GB", "Microsoft YaHei", sans-serif; color: #1f1505; background: #fffbf2; }
a { color: #b9770e; text-decoration: none; }
a:hover { text-decoration: underline; }
@import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&display=swap');

/* Theme */
:root { --brand:#c58d1b; --brand-dark:#8b620d; --accent:#d87800; --cream:#fff5de; --ink:#2a1d0b; --amber:#f8e3b0; --sand:#f5eddc; --sage:#f3f0e8; }

/* Layout */
header { position: sticky; top: 0; z-index: 10; background: rgba(255,248,235,.92); backdrop-filter: saturate(180%) blur(8px); border-bottom: 1px solid rgba(197,141,27,.25); }
.container { max-width: 1120px; padding: 0 16px; margin: 0 auto; }
.nav { display: flex; align-items: center; justify-content: space-between; height: 56px; }
.brand { font-weight: 700; letter-spacing: .3px; color: var(--brand-dark); }
.nav a { margin-left: 16px; font-weight: 500; color: var(--brand-dark); }

main section { padding: 48px 0; border-bottom: 1px solid rgba(197,141,27,.18); }
section h2 { margin: 0 0 16px; font-size: 24px; color: var(--brand-dark); }
section p { line-height: 1.75; margin: 0 0 12px; }

.section-alt { background: var(--sand); border-top: 1px solid rgba(197,141,27,.15); border-bottom: 1px solid rgba(197,141,27,.15); }
.section-accent { background: linear-gradient(180deg, #fff 0%, var(--cream) 100%); }
.heading-accent { display: inline-flex; align-items: center; gap: 12px; font-family: 'Playfair Display', Georgia, serif; letter-spacing: .3px; color: var(--brand-dark); }
.heading-accent::before { content:""; display:inline-block; width: 36px; height: 10px; border-radius: 6px; background: linear-gradient(90deg, #f6d77a 0%, #d1a324 100%); box-shadow: 0 2px 8px rgba(209,163,36,.35); }
.heading-accent.center { justify-content: center; width: 100%; }
.subheading { font-size: 18px; font-weight: 700; color: var(--brand-dark); margin: 0 0 12px; letter-spacing: .2px; }
.section-title { display:flex; align-items:center; gap:10px; font-weight:800; color: var(--brand-dark); }
.section-title .dot { width:12px; height:12px; background:#f6d77a; border-radius:50%; display:inline-block; box-shadow: 0 0 0 3px #fdebb7 inset; }
.section-card { border:1px solid rgba(197,141,27,.25); border-radius:14px; background:#fffaf0; box-shadow: 0 10px 18px rgba(209,163,36,.08); padding: 16px; }
.section-card.fill { display:flex; flex-direction: column; height: 100%; }
.panel-divider { height: 0; border: 0; border-top: 1px solid rgba(197,141,27,.2); margin: 8px 0 12px; }

.grid { display: grid; grid-template-columns: repeat(12, 1fr); grid-gap: 16px; }
.col-6 { grid-column: span 6; }
.col-7 { grid-column: span 7; }
.col-5 { grid-column: span 5; }
.col-12 { grid-column: span 12; }

@media (max-width: 768px) {
	.nav a { margin-left: 12px; }
	.grid { grid-template-columns: repeat(6, 1fr); }
	.col-6 { grid-column: span 6; }
	.col-7 { grid-column: span 6; }
	.col-5 { grid-column: span 6; }
}

/* Cards & media */
.card { border: 1px solid rgba(197,141,27,.25); border-radius: 10px; overflow: hidden; background: #fffdf6; box-shadow: 0 1px 2px rgba(58,42,15,.08); }
.card .body { padding: 16px; }
img.responsive { display: block; width: 100%; height: auto; }
.card.accent { border-color: var(--amber); background: #fff; box-shadow: 0 6px 16px rgba(209,163,36,.14); }
.badge { display: inline-block; padding: 6px 10px; border-radius: 999px; font-size: 12px; font-weight: 700; color: #4a350d; background: var(--amber); }
.badge.alt { background: var(--accent); color: #fff; }

/* Cover */
.cover { position: relative; border-bottom: 1px solid rgba(197,141,27,.25); min-height: 160px; max-height: 30vh; overflow: hidden; }
.cover-inner { position: static; }
.cover .container { max-width: 100%; padding: 0; }
.cover img { width: 100%; height: 100%; display: block; object-fit: cover; object-position: center 50%; }
.cover .overlay { position: absolute; inset: 0; z-index: 1; background: linear-gradient(180deg, rgba(68,45,6,.35) 0%, rgba(197,141,27,.55) 70%, rgba(59,34,0,.65) 100%); display: flex; align-items: center; justify-content: center; text-align: center; }
.hero .content, .cover .content { color: #fffaf0; padding: 12px 16px; width: 100%; max-width: 900px; margin: 0 auto; }
.hero .title, .cover .title { font-size: 34px; margin: 0 0 6px; font-family: 'Playfair Display', Georgia, serif; letter-spacing: .5px; text-shadow: 0 2px 4px rgba(45,28,0,.6), 0 8px 24px rgba(45,28,0,.35); }
.hero .subtitle, .cover .subtitle { font-size: 16px; opacity: .95; margin: 0; text-shadow: 0 1px 2px rgba(45,28,0,.55); }

/* Footer */
footer { color: #7b6032; padding: 24px 0; background: #fff5de; border-top: 1px solid rgba(197,141,27,.25); }

/* Final bottom summary */
.final-summary { padding: 20px 0 28px; background: #fef6e6; border-top: 1px solid rgba(197,141,27,.25); }
.final-summary .final-dt { text-align: center; color: #7b6032; margin-bottom: 8px; font-weight: 600; }
.final-summary .final-dt .sep { margin: 0 8px; color: #ba9650; }
.final-summary .final-divider { border-top: 1px solid rgba(197,141,27,.25); margin: 8px 0 12px; }
.success-banner { display:none; margin: 10px auto 0; max-width: 760px; text-align:center; background:#f9edd2; border:1px solid rgba(197,141,27,.35); color:#61420f; padding: 12px 14px; border-radius: 12px; font-weight: 800; letter-spacing:.3px; }
.final-summary .final-list { max-width: 760px; margin: 0 auto 10px; display: grid; gap: 8px; color: #5a401a; }
.final-summary .final-item { display:flex; align-items:center; justify-content:space-between; padding: 8px 10px; background:#fffaf0; border:1px solid rgba(197,141,27,.25); border-radius:10px; }
.final-summary .final-item .label { font-weight: 700; }
.final-summary .final-item .value { font-weight: 800; color: #3c2a0e; }
.total-banner { background: #3c2a0e; color:#fcedb5; font-weight:800; text-align:center; border-radius: 16px; padding: 16px; font-size: 20px; letter-spacing:.4px; }
.final-cta { display:block; margin: 12px auto 0; background:#d48c00; color:#fff; font-weight:800; border:0; border-radius:28px; padding: 12px 28px; box-shadow: 0 8px 22px rgba(197,141,27,.25); letter-spacing:.5px; }
.final-cta:disabled { filter: grayscale(1); opacity: .6; cursor: not-allowed; }

/* Utility */
.muted { color: #7b6032; }
.btn { display: inline-block; padding: 10px 14px; border-radius: 8px; background: var(--brand); color: #fff; font-weight: 600; }
.btn:hover { filter: brightness(.95); text-decoration: none; }
.btn.alt { background: var(--accent); }
.pill-info { display:inline-flex; gap:8px; align-items:center; padding:8px 12px; background: var(--amber); border:1px solid rgba(197,141,27,.3); border-radius: 999px; color: #3c2a0e; }
.section-note { display:flex; align-items:center; justify-content:center; gap:10px; padding:10px 12px; background: rgba(246,215,122,.28); border:1px solid rgba(197,141,27,.32); border-radius:12px; color:#6b4b18; font-weight:700; margin: 8px 0 16px; }
.section-note.small { font-weight:600; padding:8px 10px; margin:6px 0 10px; }
.info-ic { width:18px; height:18px; border-radius:999px; border:1px solid rgba(197,141,27,.25); background: rgba(246,215,122,.3); color: var(--brand); display:inline-flex; align-items:center; justify-content:center; font-size:12px; font-weight:800; line-height:1; }
.info-ic.lg { width:22px; height:22px; font-size:14px; }

/* Hours redesign */
.hours-card { background: linear-gradient(180deg, #fffaf0 0%, #f6e6bf 100%); border:1px solid rgba(197,141,27,.28); border-radius:14px; padding:16px; box-shadow: 0 8px 18px rgba(197,141,27,.12); }
.hours-list { list-style:none; padding:0; margin:0; }
.hours-list li { display:flex; justify-content:space_between; padding:10px 12px; border-bottom: 1px dashed rgba(197,141,27,.25); }
.hours-list li:last-child { border-bottom:0; }
.hours-em { background:#fde7c3; color:#8b5d0f; border:1px solid rgba(212,140,0,.4); padding:2px 8px; border-radius:999px; font-weight:800; font-size:12px; }
.hours-note { font-size:13px; color:#70511f; margin-top:8px; }
.address-card { background: linear-gradient(180deg, #fff9ec 0%, #f4e2b9 100%); border:1px solid rgba(197,141,27,.3); border-radius:14px; padding:16px; }

/* Horizontal hours blocks */
.hours-flex { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 16px; align-items: stretch; }
.hour-box { padding: 18px 20px; border-radius: 14px; border: 1px solid rgba(197,141,27,.25); background: linear-gradient(180deg, #fff7e3 0%, #f7e2ac 100%); box-shadow: 0 6px 14px rgba(197,141,27,.1); display: flex; flex-direction: column; gap: 12px; }
.hour-season { font-size: 14px; font-weight: 700; letter-spacing: .4px; color: #6b4b18; text-transform: uppercase; }
.hour-time { display: flex; flex-wrap: wrap; align-items: baseline; gap: 6px; font-weight: 700; font-size: 20px; color: #2a1d0b; letter-spacing: .1px; }
.hour-time .time { font-size: 22px; font-weight: 700; }
.hour-time .ampm { font-size: 14px; font-weight: 600; color: #8b5d0f; text-transform: lowercase; }
.hour-time .dash { font-size: 18px; font-weight: 700; color: #8b5d0f; letter-spacing: .2px; }
.hour-caption { font-size: 13px; color: #7b6032; margin-top: auto; }
.hour-box.em { background: linear-gradient(180deg, #ffeac7 0%, #f6cc78 100%); border-color: rgba(212,140,0,.45); box-shadow: 0 10px 18px rgba(212,140,0,.16); }
.hour-box.em .hour-season { color: #8b5d0f; }
.hour-box.em .hour-time { color: #3c2205; }
.fullbleed { width: 100vw; margin-left: calc(50% - 50vw); margin-right: calc(50% - 50vw); padding-left: 16px; padding-right: 16px; }

/* Booking blocks */
.calendar { display: grid; grid-template-columns: repeat(7, 1fr); gap: 8px; }
.day { border: 1px solid rgba(197,141,27,.25); border-radius: 8px; padding: 12px; text-align: center; cursor: pointer; user-select: none; background: #fffaf0; font-weight: 700; color:#4a350d; }
.calendar .day:nth-child(odd):not(.disabled) { background: #fff2d2; }
.day:hover { background: #ffe6ad; }
.day.disabled { color: #b39b70; background: #f3e6c8; cursor: not-allowed; text-decoration: line-through; }
.day.selected { outline: 3px solid var(--brand); background: #ffe090; }

.calendar-block { background: linear-gradient(180deg, #fffaf0 0%, #f8e3b0 100%); border: 1px solid rgba(197,141,27,.28); border-radius: 14px; padding: 12px; box-shadow: 0 8px 18px rgba(197,141,27,.12); }
.calendar .day { display: flex; align-items: center; justify-content: center; padding: 0; aspect-ratio: 1 / 1; transition: background .2s ease, border-color .2s ease, transform .05s ease; }
.calendar .day.header { border-radius: 8px; }
.calendar .day:not(.disabled):hover { background: #ffe090; border-color: var(--brand); transform: translateY(-1px); }
.calendar .day.selected { outline: 3px solid var(--brand); background: #ffd46c; border-color: var(--brand); box-shadow: 0 6px 16px rgba(197,141,27,.24); }
.calendar .day:focus-visible { outline: 3px solid var(--brand); outline-offset: 2px; }

.calendar .day.header { text-decoration: none; cursor: default; pointer-events: none; color: #3c2a0e; background: linear-gradient(180deg, #f8e3b0 0%, #e3be58 100%); font-weight: 800; text-transform: uppercase; letter-spacing: .5px; font-size: 12px; border-color: rgba(197,141,27,.5); }
.calendar-head { display:flex; align-items:center; justify-content:center; gap:8px; margin: 6px 0 10px; font-weight:800; color:#6b4b18; }
.cal-btn { width:28px; height:28px; border:1px solid rgba(197,141,27,.25); border-radius:8px; background:#fffaf0; color:#6b4b18; font-weight:800; line-height:1; display:flex; align-items:center; justify-content:center; cursor:pointer; }
.cal-btn:hover { background:#ffe090; }
.cal-btn:focus { outline: 2px solid var(--brand); outline-offset: 2px; }
.cal-btn:disabled { opacity: .5; cursor: not-allowed; filter: grayscale(1); }

.slots { display: grid; grid-template-columns: repeat(4, minmax(0, 1fr)); gap: 12px; }
.slot-wrap { position: relative; display: flex; flex-direction: column; gap: 4px; align-items: flex-start; }
.slot { width: 100%; padding: 10px 14px; border: 1px solid rgba(197,141,27,.25); border-radius: 12px; cursor: pointer; background: #fffaf0; color:#4a350d; transition: background .2s ease, border-color .2s ease, transform .1s ease; font-weight: 700; letter-spacing: .2px; }
.slot.good { background: #fffaf0; border-color: rgba(197,141,27,.2); }
.slot.limited { background: #fff2d2; border-color: rgba(212,140,0,.45); color: #6b4b18; }
.slot.disabled { color: #b39b70; background: #f3e6c8; cursor: not-allowed; text-decoration: line-through; }
.slot.selected { background: var(--accent); color: #fff; border-color: var(--accent); box-shadow: 0 4px 14px rgba(212,140,0,.25); transform: translateY(-1px); }
.slot-remaining { font-size: 11px; font-weight: 700; color: #6b4b18; text-transform: uppercase; letter-spacing: .3px; }
.slot-wrap .soldout { position: absolute; top: -8px; right: -8px; background:#ad3a00; color:#fff; font-size:10px; padding:2px 6px; border-radius:999px; box-shadow:0 2px 6px rgba(0,0,0,.2); }

@media (max-width: 768px) {
	.slots { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}

.tickets { display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; column-gap: 12px; row-gap: 12px; align-items: start; }
.qty { display: inline-flex; align-items: center; border: 1px solid rgba(197,141,27,.25); border-radius: 8px; overflow: hidden; }
.qty button { width: 40px; height: 40px; border: 0; background: #f9e3a6; color:#6b4b18; cursor: pointer; font-size: 18px; }
.qty input { width: 56px; border: 0; text-align: center; font-weight: 700; font-size: 16px; color:#4a350d; }
.price { font-weight: 800; font-size: 18px; color: var(--brand-dark); }
.total { font-size: 20px; font-weight: 800; background: #fff2d2; border:1px solid rgba(197,141,27,.25); color: var(--brand-dark); padding:8px 12px; border-radius:10px; }
.tickets strong { font-size: 16px; color: #3c2a0e; }

.ticket-list { display: grid; gap: 6px; }
.ticket-list.with-topline { border-top: 3px solid rgba(197,141,27,.28); padding-top: 6px; border-radius: 2px; }
.ticket-row { display: grid; grid-template-columns: 1fr auto auto auto auto; align-items: center; padding: 12px 8px; border-bottom: 1px solid rgba(197,141,27,.2); }
.ticket-row:last-child { border-bottom: 0; }
.ticket-title { display: grid; gap: 6px; }
.ticket-title strong { font-size: 16px; color: #2a1d0b; }
.ticket-subtitle { font-size: 13px; color: #7b6032; font-style: italic; display:inline-flex; align-items:center; gap:6px; }
.ticket-subtitle .info-ic { width:18px; height:18px; border-radius:999px; border:1px solid rgba(197,141,27,.25); background: rgba(246,215,122,.3); color: var(--brand); display:inline-flex; align-items:center; justify-content:center; font-size:12px; font-weight:800; line-height:1; }
.time-pill { display:inline-flex; align-items:center; gap:6px; padding:2px 8px; background: #fff2d2; border:1px solid rgba(197,141,27,.28); color: var(--brand-dark); border-radius:999px; font-weight:800; font-size:12px; }
.remain-pill { display:inline-flex; align-items:center; gap:6px; padding:2px 8px; background:#fff7e3; border:1px solid rgba(197,141,27,.25); color:#6b4b18; border-radius:999px; font-weight:800; font-size:12px; }
.ticket-price { font-weight: 800; font-size: 18px; padding: 0 8px; color:#6b4b18; }
.price-green { color: #6b4b18; }
.price-free { color: #6b4b18; font-weight: 900; }
.circle-btn { width: 36px; height: 36px; border-radius: 999px; border: 1px solid rgba(197,141,27,.25); display: inline-flex; align-items: center; justify-content: center; font-size: 20px; cursor: pointer; background:#fffaf0; color:#6b4b18; }
.circle-btn.minus { background: #f8e3b0; color: #6b4b18; }
.circle-btn.plus { background: #f6d77a; color: #3c2a0e; border-color: rgba(197,141,27,.35); }
.circle-btn.plus:hover { background: #ffd46c; }
.circle-btn:disabled { opacity: .5; cursor: not-allowed; }
.ticket-qty { width: 28px; text-align: center; font-weight: 800; color: #3c2a0e; }
/* Sticky booking bar */
.booking-bar { position: sticky; bottom: 0; z-index: 15; background: #fff3d9f2; backdrop-filter: saturate(180%) blur(8px); border-top: 3px solid var(--brand); }
.booking-inner { display: grid; grid-template-columns: repeat(5, 1fr); grid-template-areas:
    'date time tickets summary button';
  gap: 10px 12px; align-items: center; padding: 12px 16px; }
.booking-inner #pill-date, .booking-inner #pill-time, .booking-inner #pill-count, .booking-inner #summary { display: none; }
.booking-inner #pill-date { grid-area: date; background: #fffaf0; border-color: rgba(197,141,27,.25); }
.booking-inner #pill-time { grid-area: time; background: #fffaf0; border-color: rgba(197,141,27,.25); }
.booking-inner #pill-count { grid-area: tickets; background: #fffaf0; border-color: rgba(197,141,27,.25); }
.booking-inner #summary { grid-area: summary; }
.booking-inner #book-btn { grid-area: button; }

@media (max-width: 768px) {
  .booking-inner { grid-template-columns: 1fr 1fr; grid-template-areas:
      'date time'
      'tickets summary'
      'button button'; }
}
.booking-inner .pill { border: 1px solid rgba(197,141,27,.25); border-radius: 999px; padding: 8px 12px; background: #fffaf0; min-height: 40px; display: flex; align-items: center; color:#3c2a0e; }
.booking-inner .cta { background: var(--accent); color: #fff; padding: 12px 20px; border-radius: 10px; font-weight: 700; cursor: pointer; border: none; box-shadow: 0 6px 16px rgba(197,141,27,.22); }
.booking-inner .cta:disabled { filter: grayscale(1); opacity: .6; cursor: not-allowed; }
.summary-list { font-size: 14px; color: #5a401a; border-top: 1px solid rgba(197,141,27,.25); padding-top: 8px; display: grid; gap: 6px; }
.summary-item { display:flex; align-items:center; justify-content:space-between; }
.summary-item .label { font-weight: 700; }
.summary-item .value { font-weight: 700; color: #3c2a0e; }

/* Calendar compact tweaks */
.calendar { gap: 4px; }
.calendar-head { margin: 2px 0 6px; }
.calendar-block { padding: 8px; }
.calendar .day { aspect-ratio: 4 / 3; font-size: 14px; }
.calendar .day.header { padding: 0; font-size: 12px; }
</style>
</head>
<body>

<header>
	<div class="container nav">
		<div class="brand">Schloss Sch√∂nbrunn</div>
		<nav>
			<a href="#hours">Hours</a>
			<a href="#tickets">Tickets</a>
		</nav>
	</div>
</header>

<section class="cover" aria-label="Top image">
	<div class="container cover-inner">
		<img src="https://raw.githubusercontent.com/HuaqingYuan1/my-html-demo/main/schloss-schoenbrunn.jpg" alt="Schloss Sch√∂nbrunn Palace">
		<div class="overlay">
			<div class="content">
				<h1 class="title">Schloss Sch√∂nbrunn</h1>
				<p class="subtitle">Ticket Booking</p>
				<p class="address-line" style="margin-top:8px; opacity:.95; font-size:14px;">Sch√∂nbrunner Schlo√üstra√üe 47, 1130 Wien, Austria</p>
			</div>
		</div>
	</div>
</section>

<main class="container">
	<section id="hours" style="border-bottom:0;">
		<h2 class="heading-accent center">Opening Hours</h2>
		<div class="grid">
			<div class="col-12">
				<div class="hours-card">
					<div class="hours-flex">
						<div class="hour-box">
							<div class="hour-season">September ‚Äì March</div>
							<div class="hour-time">
								<span class="time">08:30</span>
								<span class="ampm">a.m.</span>
								<span class="dash">‚Äì</span>
								<span class="time">5:30</span>
								<span class="ampm">p.m.</span>
							</div>
							<div class="hour-caption">Standard season schedule</div>
						</div>
						<div class="hour-box em">
							<div class="hour-season">April ‚Äì August</div>
							<div class="hour-time">
								<span class="time">08:30</span>
								<span class="ampm">a.m.</span>
								<span class="dash">‚Äì</span>
								<span class="time">6:00</span>
								<span class="ampm">p.m.</span>
							</div>
							<div class="hour-caption">Extended summer evenings</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>

	<section id="visit" style="border-bottom:0;">
		<h2 class="heading-accent center">Plan Your Visit</h2>
		<div class="grid">
			<div class="col-6">
                    <div class="section-card fill">
                    <h3 class="subheading">Choose Date & Time</h3>
                    
                    <div class="calendar-block">
                        <div class="calendar-head"><button id="cal-prev" class="cal-btn" aria-label="Previous month" disabled>‚Äπ</button><span id="calendar-month-label"></span><button id="cal-next" class="cal-btn" aria-label="Next month" disabled>‚Ä∫</button></div>
						<div class="calendar" id="calendar-grid" aria-label="August calendar"></div>
                    </div>
					<div style="height:12px"></div>
					<div id="slots" class="slots" aria-live="polite"></div>
					<p id="closed-note" class="muted" style="display:none;">Closed</p>
				</div>
			</div>
			<div class="col-6" id="tickets">
                    <div class="section-card fill">
                        <h3 class="subheading">Select Tickets</h3>
                        <div class="section-note small"><span class="info-ic lg">‚è∞</span><span>Please arrive 15 minutes before your selected time.</span></div>
                        <div class="section-note small"><span class="info-ic lg">üéß</span><span>Audio guides or printed descriptions in 16 languages are included in your ticket (subject to availability).</span></div>
                        <div class="ticket-list with-topline" role="list">
                            <div class="ticket-row" role="listitem">
                                <div class="ticket-title"><strong>Adult</strong></div>
                                <div class="ticket-price price-green">‚Ç¨ 38,00</div>
                                <button class="circle-btn minus" data-minus="full" aria-label="Decrease adults">‚àí</button>
                                <div class="ticket-qty" data-qty-num="full">0</div>
                                <button class="circle-btn plus" data-plus="full" aria-label="Increase adults">+</button>
                                <input id="qty-full" value="0" readonly hidden>
                            </div>
                            <div class="ticket-row" role="listitem">
                                <div class="ticket-title"><strong>Child</strong><div class="ticket-subtitle"><span class="info-ic">!</span>6‚Äì18 years</div></div>
                                <div class="ticket-price price-green">‚Ç¨ 28,00</div>
                                <button class="circle-btn minus" data-minus="senior" aria-label="Decrease child">‚àí</button>
                                <div class="ticket-qty" data-qty-num="senior">0</div>
                                <button class="circle-btn plus" data-plus="senior" aria-label="Increase child">+</button>
                                <input id="qty-senior" value="0" readonly hidden>
                            </div>
                            <div class="ticket-row" role="listitem">
                                <div class="ticket-title"><strong>Reduced</strong><div class="ticket-subtitle"><span class="info-ic">!</span>Students up to age 25 with valid ISIC</div></div>
                                <div class="ticket-price price-green">‚Ç¨ 31,50</div>
                                <button class="circle-btn minus" data-minus="student" aria-label="Decrease reduced">‚àí</button>
                                <div class="ticket-qty" data-qty-num="student">0</div>
                                <button class="circle-btn plus" data-plus="student" aria-label="Increase reduced">+</button>
                                <input id="qty-student" value="0" readonly hidden>
                            </div>
                            <div class="ticket-row" role="listitem">
                                <div class="ticket-title"><strong>Family Pass</strong><div class="ticket-subtitle"><span class="info-ic">!</span>2 adults + 3 children</div></div>
                                <div class="ticket-price price-green">‚Ç¨140.00</div>
                                <button class="circle-btn minus" data-minus="discount" aria-label="Decrease family">‚àí</button>
                                <div class="ticket-qty" data-qty-num="discount">0</div>
                                <button class="circle-btn plus" data-plus="discount" aria-label="Increase family">+</button>
                                <input id="qty-discount" value="0" readonly hidden>
                            </div>
                            <div class="ticket-row" role="listitem">
                                <div class="ticket-title"><strong>Kids under 6</strong></div>
                                <div class="ticket-price price-free">FREE</div>
                                <button class="circle-btn minus" data-minus="child" aria-label="Decrease children">‚àí</button>
                                <div class="ticket-qty" data-qty-num="child">0</div>
                                <button class="circle-btn plus" data-plus="child" aria-label="Increase children">+</button>
                                <input id="qty-child" value="0" readonly hidden>
                            </div>
                        </div>
                        <p class="muted" id="breakdown"></p>
                    </div>
                </div>
		</div>
	</section>

</main>


<div class="booking-bar">
	<div class="container booking-inner">
		<div class="pill" id="pill-date">Date: <span style="margin-left:6px;" id="pill-date-text">Select</span></div>
		<div class="pill" id="pill-time">Time: <span style="margin-left:6px;" id="pill-time-text">Select</span></div>
		<div class="pill" id="pill-count">Tickets: <span style="margin-left:6px;" id="pill-count-text">0</span></div>
		<div id="summary" class="summary-list" aria-live="polite"></div>
	</div>
</div>

<section class="final-summary">
	<div class="container">
		<div class="final-dt">Date: <span id="final-date-text">Select</span> <span class="sep">‚Ä¢</span> Time: <span id="final-time-text">Select</span></div>
		<div class="final-divider"></div>
		<div id="final-breakdown" class="final-list" aria-live="polite"></div>
		<div class="total-banner">Total: <span id="final-total-text">‚Ç¨0.00</span></div>
		<div id="success-message" class="success-banner">Successfully</div>
		<button id="book-btn" class="final-cta" disabled>BOOK NOW</button>
	</div>
</section>


<footer>
	<div class="container">
		<p class="muted">¬© <span id="year"></span> Schloss Sch√∂nbrunn (Demo)</p>
	</div>
</footer>

<script>
document.getElementById('year').textContent = new Date().getFullYear();

// Constants
const ATTRACTION_NAME = 'Schloss Sch√∂nbrunn';
const CAL_YEAR = 2026;
const CAL_MONTH = 7; // August (0-based)
const PRICES = { full: 38, senior: 28, student: 31.5, discount: 140, child: 0 };
const TICKET_LABELS = { full: 'Adult', senior: 'Child (6‚Äì18 years)', student: 'Reduced (ISIC)', discount: 'Family Pass', child: 'Kids under 6' };
// Elements
const calendarGrid = document.getElementById('calendar-grid');
const calendarMonthLabel = document.getElementById('calendar-month-label');
const calPrev = document.getElementById('cal-prev');
const calNext = document.getElementById('cal-next');
const MONTH_NAMES = ['January','February','March','April','May','June','July','August','September','October','November','December'];
const MONTH_ABBR = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
let viewYear = CAL_YEAR;
let viewMonth = CAL_MONTH; // 0-based

function seasonalHours(monthIndex){
	const openMinutes = 8 * 60 + 30; // 08:30
	const isSummer = monthIndex >= 3 && monthIndex <= 7; // April ‚Äì August
	const closeMinutes = isSummer ? (18 * 60) : (17 * 60 + 30); // 18:00 or 17:30
	return { openMinutes, closeMinutes };
}

function getSlotAvailability(monthIndex, weekday, minutes){
	const highSeason = monthIndex >= 3 && monthIndex <= 7;
	const weekend = weekday === 0 || weekday === 6;

	if (highSeason){
		if (weekend && minutes >= 600 && minutes < 900){
			return { status: 'soldout' };
		}
		if (minutes >= 570 && minutes < 1020){
			const remaining = 10 - Math.floor((minutes - 570) / 120) * 2;
			return { status: 'limited', remaining: Math.max(4, remaining) };
		}
		return { status: 'good', remaining: 18 };
	}

	if (weekend && minutes >= 600 && minutes < 900){
		return { status: 'limited', remaining: 12 };
	}
	if (minutes >= 630 && minutes < 900){
		return { status: 'limited', remaining: 16 };
	}
	return { status: 'good', remaining: 22 };
}

// Lock navigation to August only (buttons present but disabled)
if (calPrev) calPrev.disabled = true;
if (calNext) calNext.disabled = true;
const slotsWrap = document.getElementById('slots');
const closedNote = document.getElementById('closed-note');
const bookBtn = document.getElementById('book-btn');
const pillDateText = document.getElementById('pill-date-text');
const pillTimeText = document.getElementById('pill-time-text');
const finalDateText = document.getElementById('final-date-text');
const finalTimeText = document.getElementById('final-time-text');
const pillCountText = document.getElementById('pill-count-text');
const summaryEl = document.getElementById('summary');
const finalBreakdownEl = document.getElementById('final-breakdown');
const totalEl = document.getElementById('total');
const breakdownEl = document.getElementById('breakdown');
const finalTotalText = document.getElementById('final-total-text');

const qtyInputs = {
	full: document.getElementById('qty-full'),
	senior: document.getElementById('qty-senior'),
	student: document.getElementById('qty-student'),
	discount: document.getElementById('qty-discount'),
	child: document.getElementById('qty-child')
};

let selectedDate = null; // { day, weekday }
let selectedTime = null; // 'HH:MM'
let lastTotal = 0;

function pad(n){ return String(n).padStart(2,'0'); }

function weekdayOf(y,m,d){ return new Date(y,m,d).getDay(); }

function isPublicHoliday(y,m,d){
	return false;
}

function isClosedWeekday(weekday){
	return false;
}

function buildCalendar(){
	if (calendarMonthLabel) {
		calendarMonthLabel.textContent = MONTH_NAMES[viewMonth];
	}
    calendarGrid.setAttribute('aria-label', `${MONTH_NAMES[viewMonth]} ${viewYear} calendar`);
    calendarGrid.innerHTML = '';
    const first = new Date(viewYear, viewMonth, 1);
    const daysInMonth = new Date(viewYear, viewMonth + 1, 0).getDate();
    const headers = ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'];
    for (const h of headers){
        const hd = document.createElement('div');
        hd.className = 'day header';
        hd.textContent = h;
        calendarGrid.appendChild(hd);
    }
    const startDow = first.getDay();
    for (let i=0;i<startDow;i++){
        const blank = document.createElement('div');
        blank.className = 'day disabled';
        blank.textContent = '';
        calendarGrid.appendChild(blank);
    }
    for (let d=1; d<=daysInMonth; d++){
        const dow = weekdayOf(viewYear, viewMonth, d);
        const cell = document.createElement('div');
        cell.className = 'day';
        cell.setAttribute('role','button');
        cell.setAttribute('aria-label', `August ${d}, ${CAL_YEAR}`);
        cell.textContent = String(d);
        cell.dataset.day = String(d);
        cell.addEventListener('click', ()=> selectDate(d));
        calendarGrid.appendChild(cell);
    }
}

function selectDate(day){
    selectedDate = { year: viewYear, month: viewMonth, day, weekday: weekdayOf(viewYear, viewMonth, day) };
    selectedTime = null;
    [...calendarGrid.querySelectorAll('.day')].forEach(el=> el.classList.remove('selected'));
    const target = calendarGrid.querySelector(`.day[data-day="${day}"]`);
    if (target) target.classList.add('selected');
    pillDateText.textContent = `${MONTH_ABBR[viewMonth]} ${day}`;
    pillTimeText.textContent = 'Select';
    if (finalDateText) finalDateText.textContent = `${viewYear}-${pad(viewMonth+1)}-${pad(day)}`;
    if (finalTimeText) finalTimeText.textContent = 'Select';
    buildSlotsForDay(day);
    enableOrDisableBook();
}

function buildSlotsForDay(day){
    slotsWrap.innerHTML = '';
    closedNote.style.display = 'none';
	const { openMinutes, closeMinutes } = seasonalHours(viewMonth);
	const weekday = weekdayOf(viewYear, viewMonth, day);
	const slots = [];
	for (let minutes = openMinutes; minutes < closeMinutes; minutes += 30){
		const h = Math.floor(minutes / 60);
		const m = minutes % 60;
		slots.push({ time: `${pad(h)}:${pad(m)}`, minutes });
	}
	slots.forEach(({ time, minutes })=>{
        const wrap = document.createElement('div');
        wrap.className = 'slot-wrap';
        const s = document.createElement('button');
        s.type = 'button';
        s.className = 'slot';
        s.textContent = time;
		const availability = getSlotAvailability(viewMonth, weekday, minutes);
		if (availability.status === 'soldout'){
            s.classList.add('disabled');
            s.disabled = true;
            const tag = document.createElement('span');
            tag.className = 'soldout';
            tag.textContent = 'Sold Out';
            wrap.appendChild(tag);
		} else {
			const badge = document.createElement('span');
			badge.className = 'remain-pill slot-remaining';
			if (availability.status === 'limited'){
				s.classList.add('limited');
				badge.textContent = `${availability.remaining} left`;
			} else {
				s.classList.add('good');
				badge.textContent = `${availability.remaining} left`;
			}
			wrap.appendChild(badge);
        }
        s.addEventListener('click', ()=>{
            selectedTime = time;
            [...slotsWrap.children].forEach(c=> c.querySelector('.slot')?.classList.remove('selected'));
            s.classList.add('selected');
            pillTimeText.textContent = time;
            if (finalTimeText) finalTimeText.textContent = time;
            enableOrDisableBook();
        });
		wrap.insertBefore(s, wrap.firstChild);
        slotsWrap.appendChild(wrap);
    });
}

function updateTotals(){
    let total = 0;
    const parts = [];
    let ticketCount = 0; let ticketTotal = 0;
    for (const key of ['full','senior','student','discount','child']){
        const qty = parseInt(qtyInputs[key].value||'0',10);
        if (!qty) continue;
        const price = PRICES[key];
        total += qty * price;
        ticketCount += qty;
        ticketTotal += qty * price;
        const label = TICKET_LABELS[key];
        parts.push(`${qty} √ó ‚Ç¨${price.toFixed(2)} (${label})`);
    }
    lastTotal = total;
    if (totalEl) totalEl.textContent = `Total: ‚Ç¨${total.toFixed(2)}`;
    if (breakdownEl) breakdownEl.textContent = parts.join(' + ');
    if (finalTotalText) finalTotalText.textContent = `‚Ç¨${total.toFixed(2)}`;
    pillCountText.textContent = `${ticketCount} (‚Ç¨${ticketTotal.toFixed(2)})`;
    if (summaryEl){
        const lines = [];
        if (ticketCount > 0){
            const val = ticketTotal > 0 ? `‚Ç¨${ticketTotal.toFixed(2)}` : 'Free';
            lines.push(`<div class="summary-item"><span class="label">Tickets (${ticketCount})</span><span class="value">${val}</span></div>`);
        }
        summaryEl.innerHTML = lines.join('');
        summaryEl.style.display = lines.length ? '' : 'none';
    }

    for (const key of ['full','senior','student','discount','child']){
        const val = parseInt(qtyInputs[key].value||'0',10);
        const numEl = document.querySelector(`[data-qty-num="${key}"]`);
        if (numEl) numEl.textContent = String(val);
        const minusBtn = document.querySelector(`[data-minus="${key}"]`);
        if (minusBtn) minusBtn.disabled = val <= 0;
    }

    if (finalBreakdownEl){
        const items = [];
        for (const key of ['full','senior','student','discount','child']){
            const qty = parseInt(qtyInputs[key].value||'0',10);
            if (!qty) continue;
            const price = PRICES[key];
            const val = price > 0 ? `‚Ç¨${(qty*price).toFixed(2)}` : 'Free';
            items.push(`<div class="final-item"><span class="label">${TICKET_LABELS[key]} (${qty})</span><span class="value">${val}</span></div>`);
        }
        finalBreakdownEl.innerHTML = items.join('');
        finalBreakdownEl.style.display = items.length ? '' : 'none';
    }

    enableOrDisableBook();
}

function attachQtyHandlers(){
    document.querySelectorAll('[data-plus]').forEach(btn=>{
        btn.addEventListener('click', ()=>{
            const k = btn.getAttribute('data-plus');
            qtyInputs[k].value = String(parseInt(qtyInputs[k].value,10)+1);
            updateTotals();
        });
    });
    document.querySelectorAll('[data-minus]').forEach(btn=>{
        btn.addEventListener('click', ()=>{
            const k = btn.getAttribute('data-minus');
            const cur = parseInt(qtyInputs[k].value,10);
            qtyInputs[k].value = String(Math.max(0, cur-1));
            updateTotals();
        });
    });
}

function enableOrDisableBook(){
	const anyQty = Object.values(qtyInputs).some(i=> parseInt(i.value||'0',10) > 0);
	bookBtn.disabled = !(selectedDate && selectedTime && anyQty);
}

function buildApiParams(){
	if (!selectedDate) return null;
	return [ATTRACTION_NAME, `${selectedDate.month + 1}.${selectedDate.day}`];
}

bookBtn.addEventListener('click', ()=>{
	const params = buildApiParams();
	const payload = {
		params,
	    date: `${selectedDate.year}-${pad(selectedDate.month + 1)}-${pad(selectedDate.day)}`,
		time: selectedTime,
		quantities: Object.fromEntries(Object.entries(qtyInputs).map(([k,i])=>[k, parseInt(i.value||'0',10)])),
		guidedSummary: null,
		total: lastTotal.toFixed(2)
	};
	console.log('Booking payload', payload);
	try {
	    alert(`Booking successfully!\nDate: ${payload.date}\nTime: ${payload.time}\nTotal: ‚Ç¨${lastTotal.toFixed(2)}`);
	} catch (e) {
	    // ignore
	}
	const successEl = document.getElementById('success-message');
	if (successEl){
		successEl.style.display = '';
		successEl.textContent = 'Successfully';
		successEl.setAttribute('role','status');
	}
	document.querySelector('.final-summary')?.scrollIntoView({ behavior: 'smooth', block: 'start' });
});

buildCalendar();
attachQtyHandlers();
updateTotals();

</script>
</body>
</html>

